/*
 * 003external_led_toggle.c
 *  Created on: Oct 19, 2025
 *  Author: notty
 */

#include "stm32f446re.h"
#include "STM32F446RE_GPIO_DRIVER.h"

// Simple delay
void delay(void)
{
    for (uint32_t i = 0; i < 500000; i++);
}

int main(void)
{
    GPIO_Handle_t GpioLed;

    // ------------------ LED Configuration ------------------
    GpioLed.pGPIOX = GPIOA;
    GpioLed.GPIO_Pin_Config.GPIO_PinNumber = GPIO_PIN_NO_3;
    GpioLed.GPIO_Pin_Config.GPIO_PiMode = GPIO_MODE_OUT;
    GpioLed.GPIO_Pin_Config.GPIO_PinSpeed = GPIO_SPEED_FAST;
    GpioLed.GPIO_Pin_Config.GPIO_PinOpType = GPIO_OP_TYPE_PP;
    GpioLed.GPIO_Pin_Config.GPIO_PinPupdControl = GPIO_NO_PUPD;

    GPIO_PeriClockControl(GPIOA, ENABLE);
    GPIO_Init(&GpioLed);

    // ------------------ Main Loop ------------------
    while (1)
    {
        GPIO_ToggleOutputPin(GPIOA, GPIO_PIN_NO_3);
        delay();
    }

    return 0;
}
